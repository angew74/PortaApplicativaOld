<?xml version="1.0" encoding="utf-8" ?>
<portaDiDominio>
  <porta>

    <!--  CONFIGURAZIONE DELLA PORTA DI DOMINIO
	          Impostare il codiceAmministrazione e il codicePorta per la Porta di Dominio. I due parametri 
	          sono stringhe alfanumeriche e sono case-insensitive.
		-->
    <codiceAmministrazione>Comune di Roma</codiceAmministrazione>
    <codicePorta>PORTA001</codicePorta>

    <!--  VALIDAZIONE CONTENUTO APPLICATIVO CON XSD
		      Specificare un file XSD per validare il contenuto applicativo dei messaggi in uscita secondo 
		      uno schema XML. 
		-->
   <!--<schemaContenutoApplicativo>C:\UnisysComponents\PAEGOV\InputVerifiche.xsd</schemaContenutoApplicativo>-->

    <!--  FIRMA E CRITTOGRAFIA DEI CONTENUTI
			  Impostare on="true" nel nodo signature o encryption per attivare, rispettivamente, la firma
			  e la crittazione del contenuto applicativo dei messaggi in uscita secondo un certo certificato.
			  I certificati possono essere caricati da file o da Certificate Store. Nel primo caso impostare 
			  l'attributo fileName al nome del file del certificato. Per caricare dallo store specificare lo
			  store con l'attributo store e indicare il certificato tramite subject o thumbprint.
			  
			  Es. (gli stessi attributi si applicano al nodo <encryption>)
			  <signature on="false" />
			  <signature on="true" fileName="C:\certificato.cer" />
			  <signature on="true" store="User.My" thumbprint="ca 76 01 38 1b 45 78 50 2b 62 b8 80 98 25 66 4f 1e 78 df a2" />
			  <signature on="true" store="User.My" subject="C:\Program Files\Microsoft WSE\v2.0\Samples\Sample Test Certificates\Server Public.cer" />
			  
			  Lo store si specifica con il tipo (User o Machine) seguito da un punto e dallo store name.	
			  store="[User|Machine].[My|AddressBook|CA|Root|Trust|Disallowed]"			  
			  User indica lo store per l'utente corrente. Machine indica lo store a livello di macchina.
			  Es. store="User.My", store="Machine.My", store="Machine.AddressBook"
		 -->
    <signature on="false" />
    <encryption on="false" />

   
  </porta>

  <!--  MESSAGGIO DI DEFAULT
		  Questa sezione specifica l'intestazione, i contenuti e gli allegati da pre-impostare per i messaggi
		  in uscita dalla porta. Per ottenere il messaggio pre-impostato con questi parametri, invocare il
		  metodo GetDefaultMessaggioEGovernment() della porta.
		  Notare che alcuni parametri (come Messaggio.Identificatore, Messaggio.OraRegistrazione, 
		  Messaggio.Scadenza, Messaggio.Riferimento, Sequenza) non dovrebbero essere impostati staticamente da 
		  file di configurazione perchÃ¨ noti solo a runtime, e quindi generati da codice con l'apposita istruzione. 
		  Per Identificatore e OraRegistrazione Ã¨ comunque possibile abilitare la generazione automatica a runtime 
		  dei valori, con la parola chiave AUTO:
		  
		  Es:
		  <Identificatore>AUTO</Identificatore>
		  <OraRegistrazione tempo="EGOV_IT_Locale">AUTO</OraRegistrazione>
		  
		  Con tali istrzuzioni il messaggio in uscita avrÃ  un identificatore dinamico generato prima della 
		  spedizione e l'ora della spedizione. Quando si usa AUTO, L'attributo tempo assume sempre il valore 
		  EGOV_IT_Locale.
	-->
  <messaggio>

    <!-- intestazione -->
    <intestazione>
      <IntestazioneMessaggio>
       <Mittente>
          <IdentificativoParte tipo="058091">Comune di Roma</IdentificativoParte>
        </Mittente>
        <Destinatario>
          <IdentificativoParte tipo="CdR">Comune di Roma</IdentificativoParte>
          <IndirizzoTelematico></IndirizzoTelematico>
        </Destinatario>
        <Azione></Azione>
        <ProfiloCollaborazione>EGOV_IT_ServizioSincrono</ProfiloCollaborazione>
        <Messaggio>
          <Identificatore>AUTO</Identificatore>
          <OraRegistrazione tempo="EGOV_IT_Locale">AUTO</OraRegistrazione>
        </Messaggio>
      </IntestazioneMessaggio>
    </intestazione>
   <contenutoApplicativo>
	</contenutoApplicativo>
   </messaggio>
</portaDiDominio>
